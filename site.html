<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Eduardo Gasparin - Bootcamp</title>
        <link href="estilo.css" rel="stylesheet"> 
		<script src="meu_script.js"></script>
    </head>
    <body>
        <header>
            <h1>Relatório do bootcamp</h1>
            <p id="id001">
                Este material visa compilar o aprendizado obtido no bootcam do Site do LAMIA
            </p>
        </header>
        <section>
            <header>
                <h2>O que é o Javascript?</h2>
                <p>
                    Javascript é uma linguagem de programação interpretada, muito utilizada na web por permitir interação/manipulação com HTML diretamente no dispositivo clientes. Tal interação é possível em razão do Document Object Model (DOM), que é uma interface de programação para os documentos HTML e XML. Esta interface representa a página por meios de nós e objetos, de forma que os programas possam alterar a estrutura do documento, alterar o estilo e conteúdo. 
                </p>

                <img src="dom-model.png">

                <h3>Como usar o Javascript?</h3>
                <p>
					Algo bem interessante é poder usar Javascript integrado à pagina html.
					Há duas formas distintas para esta integração, a primeira é a inclusão do código diretamente no documento HTML, sendo delimitados pela tag 'script' 
				</p>
				<p>
					A segunda forma e mais recomendada, pois possibilita melhor separação de responsabilidades entre os elementos do projeto, bem como maior desempenho, é a utilização de um arquivo externo. 
					Para usar esta forma, deve-se referenciar o arquivo externo dentro das tags 'script', como demonstrado abaixo
				</p>
				
				<p class="code">&ltscript src="js/meu_script.js"&gt&lt/script&gt</p>
                				
				<p>
					Já para fazer a chamada, deve-se realizar a chamada da função a ser executada do Javascript, como no exemplo abaixo, onde um botão ao ser clicado informa por meio de um 'alert' o horário atual:
				</p>	
                
                <p class="code">&lttype="submit" value="HORA" name="tBotao" id="cBotao" onclick="horario()"&gt</p>

                <p>
                    No entanto, o uso do 'alert' pode não ser interessante por não fornecer informações sobre a execução. Desta maneira, a alternativa apresentada em aula foi o uso do 'console.log()', que fornece acesso ao console de depuração do navegador. Seu uso deve ser feito da seguinte forma:
                </p>
                <p class="code">console.log("Alguma saida string")</p>

			</article>
		</section>

        <section>
            <article>
                <h2>Dados no Javascript</h2>
                <p>
                    Nesta linguagem, as variáveis são <b>dinamicamente tipadas</b>, ou seja, o proprio interpretador consegue determinar o tipo de variável, nao necessitando declarar. No entanto deve-se atentar a algumas caracteristicas:
                </p>
                <p>
                    <b>const nome_var : </b>Declara uma constante de escopo de bloco, cujo o valor é fixo, ou seja, somente leitura. Isso não significa que o valor é imutável, apenas que a variável constante não pode ser alterada ou retribuída.
                </p>
                <p>
                    <b>let nome_var : </b>Declara uma variável local de escopo do bloco, instrução, ou em uma expressão na qual ela é usada, e somente neste, sendo não reconhecida por qualquer outro contexto.
                </p>
                <p>
                    <b>var nome_var : </b>Declara uma variável que é reconhecida em diferentes contextos, no entanto seu valor é tido como indefinido fora do escopo no qual é atribuido.
                </p>
                <p>
                    <b>nome_var : </b>Declara uma variável global, reconhecida e acessível em diferentes escopos do script, desde que criada antes da execução destes.
                </p>

                <p>
                    Além das simples declarações demosntradas acima, outras estruturas disponíveis, como é o caso dos:
                </p>

                <p>
                    <b>arrays: </b>Um array pode conter elementos diversos, como strings e inteiros
                </p>
                <p class="code">um_array = ["Eu", 10, 1.45];</p>

                <p>
                    <b>dics: </b>Um dicionario se diferencia por possuir chaves e valores
                </p>
                <p class="code">um_array = {chave:"valor"};</p>

                <h3>Objetos e Classes</h3>
                <p>
                    Objetos são estruturas que possuem atributos e métodos, sendo muito úteis para representar abstrações de entidades reais, como ocorre no cadastro de um usuário. A declaração de um objeto é realizada na forma:
                </p>
                <p class="code">
                    var objeto = {
                    <br>atributo1: valor,
                    <br>atributo2: valor,
                    <br>metodo1: function(){ code; },
                    <br>metodo1: function(){ code; }
                    <br>};
                </p>
                <p>
                    Para acessar os atributos e métodos da função deve-se seguir o seguinte modelo:
                </p>
                <p>Acessando (1) ou modificando (2) um atributo
                    <p class="code">
                        (1) objeto.atributo;
                        <br>(2) objeto.atributo = novo_valor;
                    </p>
                    Chamando um método:
                    <p class="code">
                        (3) objeto.metodo();
                    </p>    
                </p>
                <p>
                    Já uma classe é uma função que gera novas variáveis (objetos) com as características definidas nesta, como se fosse um molde ou modelo para novos objetos. Para criar uma classe, deve-se digitar a palavra chave 'class' seguida do nome desta. Os métodos são declarados como no caso de objetos, mas os atributos devem ser criados dentro de um método construtor 'constructor()':
                    <b><br>class Pessoa{
                    <br>&emsp;constructor(param1){
                    <br>&emsp;&emsp;this.atributo1 = param1; 
                    <br>&emsp;}
                    <br>&emsp;metodo1(){
                    <br>&emsp;&emsp;console.log("Classes são legais!"); 
                    <br>&emsp;}
                    <br>&emsp;metodoSoma(a, b){ 
                    <br>&emsp;&emsp;return a + b;
                    <br>&emsp;}
                    <br>};
                    </b> 
                </p>
                <p>
                    Para criar uma instância desta classe, primeiramente cria-se uma variável que vai armazenar esta, após isso é passado para essa variável uma nova instância criada com a palavra chave 'new' e o nome da classe seguido de parênteses.
                    <p class="code">
                        var variável = new Nome_da_classe();<br>
                        var eduardo = new Pessoa();
                    </p> 
                    Ou pode-se já optar por passar os valores dos atributos como parametros na criação desta:
                    <p class="code">
                        var eduardo = new Pessoa("valor1", "valor2");
                    </p> 
                </p>
                <h3>Herança</h3>
                <p>
                    Pode-se reutilizar o código de classes já criadas e criar novas mais especializadas por meio da herança. Para isso, deve-se usar a palavra chave 'extends' e importando os atributos e métodos por meio do método 'super' dentro do constructor:
                </p>
                <p><b>
                    class Professor extends Pessoa{
                    <br>&emsp;constructor(nome, idade, materia){
                    <br>&emsp;&emsp;super(nome, idade);
                    <br>&emsp;&emsp;this.novo_atributo = valor;
                    <br>&emsp;}
                    <br>&emsp;darAula(){
                    <br>&emsp;&emsp;console.log("Este metodo não esta presente na classe pai");
                    <br>&emsp;}
                    <br>}
                </b></p>

                <h3>Estrutura Condicionais e de Repetição</h3>
                <p>
                    O Javascript possui como principal estrutura condicional o 'if', sendo sua estrutura apresentada a seguir e bastante similar a do C e do Java.
                </p>               
                <p class="code">
                    if(condition){ 
                    <br>codigo para executar se verdade
                    <br>}else{
                    <br>    codigo pra executar se falso;
                    <br>};
                </p>
                
                <p>
                   Como estrutura de repetição, destaca-se o while, e o for e suas variantes. O primeiro, while, executa sempre que o condicional interno deste for verdadeiro.
                </p>
                
                <p class="code">
                    while(condition is true)
                    <br>{ 
                    <br>codigo para executar;
                    <br>}
                </p>

                <p>
                    Já o for possui algumas variantes interessantes. A mais comum é o semelhante ao C:
                 </p>
                 
                 <p class="code">
                     for(cont = initial ; cont &lt final ; increment)
                     <br>{ 
                     <br>codigo para executar;
                     <br>}
                 </p>

                 <p>
                    Já o for-in permite iterar sobre as propriedades enumeradas de um OBJETO de acordo com a ordem em que foram inseridos:
                 </p>
                 
                 <p class="code">
                     for(value in object)
                     <br>{ 
                     <br>codigo para executar;
                     <br>}
                 </p>

                 <p>
                    Por fim, temos o for-of, ideal para iterar sobre objetos iterativos, como arrays, dics e maps:
                 </p>
                 
                 <p class="code">
                     for(value of object)
                     <br>{ 
                     <br>codigo para executar;
                     <br>}
                 </p>
                
                 <h3>Funções</h3>
                 <p>
                     No Javascript podemos declarar funções normalmente, como em C, com a estrutura sendo apresentada abaixo.
                 </p>
                 
                 <p class="code">
                     function nome (parametros, ..){ 
                     <br>código interno à função;
                     <br>return algo;
                     <br>}
                 </p>

                 <p>
                    Outra forma interessante é atribuir uma função diretamente à uma variavel:
                </p>
                
                <p class="code">
                    let variavel = function (parametros, ..){ 
                    <br>código interno à função;
                    <br>return algo;
                    <br>}
                </p>

                <p>
                    Ou de forma mais compacta, declarar como um array function, o que torna mais legivel e compacta a sua declaração:
                </p>
                
                <p class="code">
                    let variavel = (parametros, ..) => expressão 
                </p>
                <p class="code">
                    let variavel = (parametros, ..) => { codigo; return algo; }
                </p>

                <p>
                   Um exemplo é apresentado abaixo, onde uma função recebe uma frase qualquer e substitui todos os ';' por 'tab';
                </p>
                
                <p class="code">
                    let mudaFrase = (string) => string.replace(";", "\t")
                    <br>console.log(mudaFrase("Aabbb"));
                    <br># AAbbb
                </p>
            </article>
        </section>
        
        <section>
            <article>
                <h2>Alterando páginas com o Javascript</h2>
                <p>
                    Algo muito interessante é a possibilidade de alterar elementos de uma página (objeto document) por meio do Javascript. Para isso deve-se lembrar que uma página é composta por diferentes elementos do DOM, e desta forma, pode-se obter os valores destes objetos, ou alterar estes. Talvez a forma mais comum é por meio do '<b>getElementById()</b>', que busca um elemento na página por meio do id único (não pode haver mais de um elemento com o mesmo id). Outras formas são por meio do '<b>getElementsByClassName()</b>', e '<b>getElementByTagName()</b>', que realizam a busca por meio do nome da 'class' ou do 'name' respectivamente.
                </p>
                <p class="code">
                    Capturando o valor de um elemento de id = 'id' e colocando na variável 'txt':
                    <br>let txt = document.getElementById('id');
                </p>
                <p>
                    Do mesmo modo que podemos capturar o valor de um determinado elemento, podemos alterar este por meio do <b>innerHTML()</b>, que por sua vez 'injeta' no elemento HTML original o novo conteúdo, inclusive novas tags do HTLM. No exemplo abaixo, é feita a alteração do texto toda vez que o botão 'Altera texto' é clicado
                </p>
                <button type= "button" onclick="mudaTexto()">Altera texto</button>
                <p id="id">Texto inicial</p>
                <p>
                    Alem disso, é possivel realizar a passagem do elemento diretamente para a função, por meio do parametro 'this', evitando assim algumas linhas de código e aumentando o reaproveitamento das funções criadas.
                </p>
                <p class="code">
                    No HTML:
                    <br>&ltp onclick="umaFuncao(this)"&gtAo clicar, o texto ficará em negrito&lt/p&gt
                    <br>
                    <br>No Javascript
                    <br>function umaFuncao(ELEMENTO){
                    <br>ELEMENTO.innerHTML = "<b>Mudou o texto para negrito</b>";
                    <br>}
                    <br>
                    <br>ou em Arrow function
                    <br>let umaFuncao = (elemento) => { elemento.innerHTML = "<b>Mudou o texto para negrito</b>";}

                </p>
                <p onclick="redText(this)">Para exemplificar, ao clicar neste elemento, o texto ficará em negrito</p>
                <p>
                    Vale destacar ainda outras funções de mouse muito úteis para uso:   
                    <li><b>onmouseover = chamada_da_funcao(): </b> realiza a chamada da função referenciada no momento em que o mouse for POSICIONADO EM CIMA do elemento.</li>
                    <li><b>onmouseout = chamada_da_funcao(): </b> realiza a chamada da função referenciada no momento em que o mouse SAIR de cima do elemento.</li>
                    <li><b>onchange = chamada_da_funcao(): </b> cria uma lista de opções, permitindo dentro do Javascript, realizar diferentes ações conforme a seleção realizada</li>
                    <li><b>onload = chamada_da_funcao(): </b> realiza a chamada da função referenciada no momento em que a página for carregada.</li>
                </p>
            </article>
        </section>

        <section>
            <article>
                <h2>Promise</h2>
                <p>
                    Para entender o promise, primeiro deve-se entender o porquê dele existir. Ele é muito util para resolver problemas onde precisamos esperar uma função retornar para executar outra, e a primeira alternativa encontrada, foi realizar o processo por meio de callbacks. O problema de adicionar nomes e listar é apresentado abaixo.
                </p>
                <img class="codigo" src="callback.png">
                <p>
                    O que esta acontecendo? basicamente ha duas funções, com diferentes tempos de execução, e por meio do uso de callback, a segunda função somente é executada quando a primeira realizar a chamada dela, por meio da instrução 'callback()'. Caso fosse chamada uma função na sequencia da outra, o javascript iria executar a impressão da lista de nomes primeiro do que a adição, pois essa ultima tem um tempo de resposta maior.
                </p>
                <p>
                    Uma promisse é diferente de uma callack, pois permite um melhor disposição vertical do código implementado, tornando mais legivel e assim mais facil de realizar manutenção. A estrutura de uma promisse pode ser representada como uma função com dois parametros, um 'reject' em caso de erro e um 'resolve' em caso de sucesso
                </p>
                <p><b>
                        let minhaPromisse = (resolve, reject) => {
                    <br>&emsp;// declaração de variaveis e códigos;
                    <br>&emsp;if(error) {
                    <br>&emsp;&emsp;reject(error);
                    <br>&emsp;} else {
                    <br>&emsp;&emsp;resolve(result);
                    <br>&emsp;}
                    <br>};
                    </b>
                    <br>Assim a criação da promisse com base na estrutura declarada fica:
                    <b>
                    <br>let promise = new Promisse(minhaPromise);
                    </b>
                    <br>A chamada da promise;
                    <b>
                    <br>promise
                    <br>&emsp;.then(umaFunção);
                    <br>&emsp;.then(outraFuncao);
                    <br>&emsp;.catch(retornoEmCasoDeErro = () => {console.error});
                    <br>&emsp;.finally(ultimaQueSeraExecutada = () => {
                    <br>&emsp;&emsp;console.log("Acabou");
                    <br>&emsp;});
                    <br>                
                </b></p>
                <p>
                    Desta forma, podemos resolver o problema anteriormente resolvido com callback, por meio do promise:
                </p>
                <img class="codigo" src="promise.png">
            </article>
        </section>

        <section>
            <article>
                <h2>Funções async e await</h2>
                <p>
                    As funções async e await trazem ainda mais praticidade ao uso do promise, tornando mais legivel ainda o código. Vale ressaltar que a promise continua sendo obrigatória, bem como a definição desta, com a modificação ocorrendo apenas na chamada da função, substituindo a estrutura '.then' por uma mais linear:
                </p>
                <p><b>
                    let funcaoAssincrona = async () =>{
                        <br>&emsp;// chama a primeira função e aguarda o retorno dela:
                        <br>&emsp;await umaFunção(parametros);
                        <br>&emsp;await outraFuncao(parametros);
                        <br>};
                    
                    </b><br>// Executando a funcao assincrona;
                    <br><b>funcaoAssincrona();
                
                    </b><br>Também podemos tratar erros por meio do 'try-catch':
                    
                    <br><b>let funcaoAssincrona = async () =>{
                        <br>&emsp;try{
                        <br>&emsp;&emsp;await umaFunção(parametros);
                        <br>&emsp;&emsp;await outraFuncao(parametros);
                        <br>&emsp;} catch(error) {
                        <br>&emsp;&emsp;console.error;
                        <br>&emsp;}
                        <br>};
                
                    </b><br>// Executando a funcao assincrona;
                    <br><b>funcaoAssincrona();
                </b></p>
                <p>
                    Desta forma, podemos resolver o problema resolvido com promise, por meio do 'async/await', apenas modificando a chamada:
                </p>
                <img class="codigo" src="async-await.png">
                <p>
                    Destaco que o código desta funções esta disponível no arquivo 'meu_script.js', executado no carregamento da página.
                </p>
            </article>
        </section>

        <footer>
            <p>Informações de autoria</p>
            <p>Eduardo Gasparin</p>
            <p>Bacharelado em Ciência da Computação</p>
            <p><a href="mailto:eduardogaspparin@gmail.com">Contato de email</a></p>
        </footer>   
    </body>
</html>
